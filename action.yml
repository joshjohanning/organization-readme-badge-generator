name: 'GitHub Organization Readme Badge Generator'
description: "An action to create markdown badges for your GitHub organization's README.md file"

branding:
  icon: 'award'
  color: 'blue'

inputs:
  organization:
    description: 'The GitHub organization to query'
    required: true
    default: '${{ github.repository_owner }}'
  token:
    description: 'PAT or GitHub App token to query the GitHub API'
    required: true
    default: '${{ github.token }}'
  graphql_url:
    description: 'The URL to the GitHub GraphQL API endpoint'
    required: true
    default: '${{ github.graphql_url }}' # https://api.github.com/graphql
  days:
    description: 'For stats that have a date window, the number of days to query for'
    required: true
    default: '30'
  color:
    description: 'The color of the badge message (right side)'
    required: false
    default: 'blue'
  label_color:
    description: 'The color of the badge label (left side)'
    required: false
    default: '555'
  badge_path:
    description: 'The path where badge SVG files should be saved'
    required: false
    default: 'badges'
  commit_badges:
    description: 'Whether to commit badge files to the repository using GitHub API (verified commits)'
    required: false
    default: 'false'
  readme_path:
    description: 'The path to the README file to update (relative to repository root)'
    required: false
    default: 'profile/README.md'
  update_readme:
    description: 'Whether to update the README file with badge references (requires commit_badges to be true)'
    required: false
    default: 'false'
outputs:
  badges:
    description: 'The badge markdown to add to your README.md file'

runs:
  using: 'node20'
  main: 'dist/index.js'
